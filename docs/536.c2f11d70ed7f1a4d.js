"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[536],{8536:(Z,f,i)=>{i.r(f),i.d(f,{CertificateModule:()=>j});var l=i(9808),c=i(1083),s=i(3075),m=i(9525),t=i(5e3),g=i(6182),M=i(2290),d=i(7093),x=i(6928),h=i(7423);function O(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"app-dynamic-form-field",5),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("formItem",e)}}let C=(()=>{class n{constructor(e,o,r,u,v){this.fb=e,this.certificateService=o,this.activeRoute=r,this.toastr=u,this.router=v}ngOnInit(){this.createForm(),this.getIdFromUrl()}createDynamicFormFields(){this.dynamicFormFields=[{id:"name",label:"Name",type:"text",defaultValue:{value:"",disabled:!1},validators:[s.kI.required]},{id:"description",label:"Description",type:"text",defaultValue:{value:"",disabled:!1}},{id:"isActive",label:"Is Active",type:"select",selectMenuOptions:[{key:!0,value:"True"},{key:!1,value:"False"}],defaultValue:{value:"",disabled:!1}}]}getIdFromUrl(){const e=this.activeRoute.snapshot.paramMap.get("id");e?(this.formMode=m.h.Edit,this.getItemById(e)):this.formMode=m.h.Add}createForm(){this.createDynamicFormFields(),this.myForm=this.fb.group({}),this.dynamicFormFields.forEach(e=>{const o=this.fb.control(Object.assign({},e.defaultValue),e.validators);this.myForm.addControl(e.id,o)})}getItemById(e){this.certificateService.get(e).subscribe(o=>{this.myForm.patchValue(o)})}saveData(){if(this.myForm.invalid)return;const e=this.myForm.value;this.formMode===m.h.Add?this.addCertificate(e):this.updateCertificate(e)}addCertificate(e){this.certificateService.add(e).subscribe(()=>{this.actionAfterAddOrUpdate("added")})}updateCertificate(e){this.certificateService.update(e).subscribe(()=>{this.actionAfterAddOrUpdate("updated")})}actionAfterAddOrUpdate(e){this.myForm.reset(),this.toastr.success(`Certificate ${e} successfully`),this.router.navigate(["/certificate"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(g.S),t.Y36(c.gz),t.Y36(M._W),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-control"]],decls:6,vars:4,consts:[[1,"wrap-form"],["fxLayout","column","fxLayoutGap","0px",1,"form",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"form-buttons"],["mat-button","","type","button",3,"disabled","click"],[3,"formItem"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.YNc(2,O,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.saveData()}),t._uU(5),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.myForm),t.xp6(1),t.Q6J("ngForOf",o.dynamicFormFields),t.xp6(2),t.Q6J("disabled",o.myForm.invalid||o.myForm.pristine),t.xp6(1),t.hij(" ",o.formMode," "))},directives:[s._Y,s.JL,d.xw,d.SQ,s.sg,l.sg,x.q,h.lW],styles:[".wrap-form[_ngcontent-%COMP%]{margin-block:3rem}.wrap-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:80%;margin:0 auto}.wrap-form[_ngcontent-%COMP%]   .form-buttons[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:5px;border-radius:10px;background-color:#454545;color:#ffe5e5}.wrap-form[_ngcontent-%COMP%]   .form-buttons[_ngcontent-%COMP%]   .mat-button[disabled][_ngcontent-%COMP%]{background-color:#707070}"]}),n})();var b=i(1060),F=i(8268),P=i(9965),y=i(7994),p=i(9224);function w(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",10),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().loadComponet(u.name)}),t.TgZ(1,"mat-card-subtitle"),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-actions",11)(4,"button",12),t._uU(5),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(3),t.hij(" ",e.description," ")}}function I(n,a){}const T=[{path:"",component:b.I},{path:"create",component:C},{path:"edit/:id",component:C},{path:"view/:id",component:(()=>{class n{constructor(e,o,r){this.activeRoute=e,this.certificateService=o,this.scroller=r}ngOnInit(){this.getIdFromUrl()}scroll(e){this.scroller.scrollToAnchor(e)}getIdFromUrl(){this.id=this.activeRoute.snapshot.paramMap.get("id"),this.id&&(this.getDetails(),this.getTolalSummaries(),this.componentId="question",this.loadComponet())}getDetails(){this.certificateService.get(this.id).subscribe(e=>{this.name=e.name,this.description=e.description})}getTolalSummaries(){this.certificateService.getTotal(this.id).subscribe(e=>{this.prepareInfo(e)})}prepareInfo(e){this.info=[{name:"Question",description:`${e.totalQues} questions`,scroll:"question"},{name:"Project",description:`${e.totalProjects} projects`,scroll:"project"},{name:"Client",description:`${e.totalClients} clients`,scroll:"client"}]}loadComponet(e){if(this.componentId!==(null==e?void 0:e.toLowerCase()))switch(this.dynamicChild.clear(),e){case"Question":this.componentId="question",this.loadQuestionComponent();break;case"Project":this.componentId="project",this.loadProjectComponent();break;default:this.loadQuestionComponent()}}loadQuestionComponent(){const e=this.dynamicChild.createComponent(P.H);e.instance.id=this.id,e.instance.routerName="question",e.instance.apiToGetListById="GetListByCertifcate"}loadProjectComponent(){const e=this.dynamicChild.createComponent(F.N);e.instance.id=this.id,e.instance.routerName="project",e.instance.apiToGetListById="GetListByCertifcate"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.gz),t.Y36(g.S),t.Y36(l.EM))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view"]],viewQuery:function(e,o){if(1&e&&t.Gf(y.$,7,t.s_b),2&e){let r;t.iGM(r=t.CRH())&&(o.dynamicChild=r.first)}},decls:12,vars:4,consts:[["fxLayout","column","fxLayoutAlign","start",1,"wrap"],[1,"header"],["fxLayout","column",1,"content"],[1,"title"],["fxLayout","row"],["fxFlex","60%"],["fxLayout","row wrap",1,"warp-card"],["class","card","fxFlex.sm","34%","fxFlex.xs","80%","fxLayout","column","fxLayoutAlign","space-between start",3,"click",4,"ngFor","ngForOf"],[3,"id"],["appLoader",""],["fxFlex.sm","34%","fxFlex.xs","80%","fxLayout","column","fxLayoutAlign","space-between start",1,"card",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-button","",1,"disabled-btn"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4)(6,"span",5),t._uU(7),t.qZA()()()(),t.TgZ(8,"div",6),t.YNc(9,w,6,2,"mat-card",7),t.qZA(),t.TgZ(10,"div",8),t.YNc(11,I,0,0,"ng-template",9),t.qZA()()),2&e&&(t.xp6(4),t.Oqu(o.name||"certificate Name"),t.xp6(3),t.hij(" ",o.description||"description"," "),t.xp6(2),t.Q6J("ngForOf",o.info),t.xp6(1),t.Q6J("id",o.componentId))},directives:[d.xw,d.Wh,d.yH,l.sg,p.a8,p.$j,p.hq,h.lW,y.$],styles:[".wrap[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#d6d6d6;margin-bottom:10px}.wrap[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:90%;margin:auto;padding-block:2rem;padding-inline:1rem}.wrap[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.wrap[_ngcontent-%COMP%]   .warp-card[_ngcontent-%COMP%]{justify-content:center}.wrap[_ngcontent-%COMP%]   .warp-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{min-width:200px;border-radius:10px;background-color:#d6d6d6;color:#242424;margin:5px;width:max-content;padding:20px 10px;cursor:pointer}.wrap[_ngcontent-%COMP%]   .warp-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{display:flex}.wrap[_ngcontent-%COMP%]   .warp-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .disabled-btn[_ngcontent-%COMP%]{cursor:text}.wrap[_ngcontent-%COMP%]   .warp-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .continue[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px}"]}),n})()}];let L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.Bz.forChild(T)],c.Bz]}),n})();var _=i(6213);let j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,L,_.m]]}),n})()}}]);